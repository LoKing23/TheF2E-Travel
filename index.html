<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>旅遊真爽</title>
  <script src="node_modules/axios/dist/axios.min.js"></script>
  <script src="node_modules//jssha/dist/sha.js"></script>
  <link rel="stylesheet" href="dist/style/all.min.css">
</head>
<body>
  <i class="fab fa-adn"></i>
  <script>
      axios.get(
      'https://ptx.transportdata.tw/MOTC/v2/Rail/TRA/Station?$top=10&$format=JSON',
      {
          headers: getAuthorizationHeader()
      }
    )
    .then(function (response) {
      console.table(response.data);
    })
    .catch(function (error) {
      console.log(error);
    }); 

    function getAuthorizationHeader() {
    //  填入自己 ID、KEY 開始
        let AppID = '87115fa4197645d591dc6280a3be89a0';
        let AppKey = '17xoWssRJ7HDiACPh89qKLE-NXs';
    //  填入自己 ID、KEY 結束
        let GMTString = new Date().toGMTString();
        let ShaObj = new jsSHA('SHA-1', 'TEXT');
        ShaObj.setHMACKey(AppKey, 'TEXT');
        ShaObj.update('x-date: ' + GMTString);
        let HMAC = ShaObj.getHMAC('B64');
        let Authorization = 'hmac username=\"' + AppID + '\", algorithm=\"hmac-sha1\", headers=\"x-date\", signature=\"' + HMAC + '\"';
        return { 'Authorization': Authorization, 'X-Date': GMTString }; 
    }
  </script>
</body>
</html>